import{_ as U}from"./UnoIcon.b2c4fb69.js";import{s as L,a as D,r as w,e as S,p as F,q as $,v as q,x as H,H as M,o as W,k as Q,i as h,f as x,h as y,u as R,C as k,P as z,j as P}from"./entry.28800101.js";import{o as m,c as G,P as E,t as A,p as J,R as B,u as X,l as N}from"./open-closed.00d41177.js";import{m as Y,y as Z,h as ee,F as te,o as p,v as ae,M as j,D as V,O as le}from"./use-outside-click.95862c09.js";import{b as ne,x as oe,a as I}from"./use-resolve-button-type.df3785cc.js";import"./_plugin-vue_export-helper.a1a6add7.js";function se({container:a,accept:f,walk:b,enabled:r}){L(()=>{let e=a.value;if(!e||r!==void 0&&!r.value)return;let v=Y(a);if(!v)return;let o=Object.assign(u=>f(u),{acceptNode:f}),d=v.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,o,!1);for(;d.nextNode();)b(d.currentNode)})}var re=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(re||{}),ue=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(ue||{});function ie(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let K=Symbol("MenuContext");function C(a){let f=q(K,null);if(f===null){let b=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(b,C),b}return f}let ce=D({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:f,attrs:b}){let r=w(1),e=w(null),v=w(null),o=w([]),d=w(""),u=w(null),g=w(1);function i(s=l=>l){let l=u.value!==null?o.value[u.value]:null,n=le(s(o.value.slice()),_=>m(_.dataRef.domRef)),c=l?n.indexOf(l):null;return c===-1&&(c=null),{items:n,activeItemIndex:c}}let t={menuState:r,buttonRef:e,itemsRef:v,items:o,searchQuery:d,activeItemIndex:u,activationTrigger:g,closeMenu:()=>{r.value=1,u.value=null},openMenu:()=>r.value=0,goToItem(s,l,n){let c=i(),_=oe(s===I.Specific?{focus:I.Specific,id:l}:{focus:s},{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:O=>O.id,resolveDisabled:O=>O.dataRef.disabled});d.value="",u.value=_,g.value=n!=null?n:1,o.value=c.items},search(s){let l=d.value!==""?0:1;d.value+=s.toLowerCase();let n=(u.value!==null?o.value.slice(u.value+l).concat(o.value.slice(0,u.value+l)):o.value).find(_=>_.dataRef.textValue.startsWith(d.value)&&!_.dataRef.disabled),c=n?o.value.indexOf(n):-1;c===-1||c===u.value||(u.value=c,g.value=1)},clearSearch(){d.value=""},registerItem(s,l){let n=i(c=>[...c,{id:s,dataRef:l}]);o.value=n.items,u.value=n.activeItemIndex,g.value=1},unregisterItem(s){let l=i(n=>{let c=n.findIndex(_=>_.id===s);return c!==-1&&n.splice(c,1),n});o.value=l.items,u.value=l.activeItemIndex,g.value=1}};return Z([e,v],(s,l)=>{var n;t.closeMenu(),ee(l,te.Loose)||(s.preventDefault(),(n=m(e))==null||n.focus())},S(()=>r.value===0)),H(K,t),G(S(()=>X(r.value,{[0]:N.Open,[1]:N.Closed}))),()=>{let s={open:r.value===0,close:t.closeMenu};return E({ourProps:{},theirProps:a,slot:s,slots:f,attrs:b,name:"Menu"})}}}),de=D({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"}},setup(a,{attrs:f,slots:b,expose:r}){let e=C("MenuButton"),v=`headlessui-menu-button-${A()}`;r({el:e.buttonRef,$el:e.buttonRef});function o(i){switch(i.key){case p.Space:case p.Enter:case p.ArrowDown:i.preventDefault(),i.stopPropagation(),e.openMenu(),M(()=>{var t;(t=m(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.First)});break;case p.ArrowUp:i.preventDefault(),i.stopPropagation(),e.openMenu(),M(()=>{var t;(t=m(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.Last)});break}}function d(i){switch(i.key){case p.Space:i.preventDefault();break}}function u(i){a.disabled||(e.menuState.value===0?(e.closeMenu(),M(()=>{var t;return(t=m(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(i.preventDefault(),e.openMenu(),ie(()=>{var t;return(t=m(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let g=ne(S(()=>({as:a.as,type:f.type})),e.buttonRef);return()=>{var i;let t={open:e.menuState.value===0},s={ref:e.buttonRef,id:v,type:g.value,"aria-haspopup":!0,"aria-controls":(i=m(e.itemsRef))==null?void 0:i.id,"aria-expanded":a.disabled?void 0:e.menuState.value===0,onKeydown:o,onKeyup:d,onClick:u};return E({ourProps:s,theirProps:a,slot:t,attrs:f,slots:b,name:"MenuButton"})}}}),ve=D({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(a,{attrs:f,slots:b,expose:r}){let e=C("MenuItems"),v=`headlessui-menu-items-${A()}`,o=w(null);r({el:e.itemsRef,$el:e.itemsRef}),se({container:S(()=>m(e.itemsRef)),enabled:S(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function d(t){var s;switch(o.value&&clearTimeout(o.value),t.key){case p.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case p.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let l=e.items.value[e.activeItemIndex.value];(s=m(l.dataRef.domRef))==null||s.click()}e.closeMenu(),V(m(e.buttonRef));break;case p.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Next);case p.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Previous);case p.Home:case p.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.First);case p.End:case p.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Last);case p.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),M(()=>{var l;return(l=m(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})});break;case p.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),M(()=>ae(m(e.buttonRef),t.shiftKey?j.Previous:j.Next));break;default:t.key.length===1&&(e.search(t.key),o.value=setTimeout(()=>e.clearSearch(),350));break}}function u(t){switch(t.key){case p.Space:t.preventDefault();break}}let g=J(),i=S(()=>g!==null?g.value===N.Open:e.menuState.value===0);return()=>{var t,s;let l={open:e.menuState.value===0},n={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(s=m(e.buttonRef))==null?void 0:s.id,id:v,onKeydown:d,onKeyup:u,role:"menu",tabIndex:0,ref:e.itemsRef};return E({ourProps:n,theirProps:a,slot:l,attrs:f,slots:b,features:B.RenderStrategy|B.Static,visible:i.value,name:"MenuItems"})}}}),T=D({name:"MenuItem",props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1}},setup(a,{slots:f,attrs:b,expose:r}){let e=C("MenuItem"),v=`headlessui-menu-item-${A()}`,o=w(null);r({el:o,$el:o});let d=S(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===v:!1),u=S(()=>({disabled:a.disabled,textValue:"",domRef:o}));F(()=>{var l,n;let c=(n=(l=m(o))==null?void 0:l.textContent)==null?void 0:n.toLowerCase().trim();c!==void 0&&(u.value.textValue=c)}),F(()=>e.registerItem(v,u)),$(()=>e.unregisterItem(v)),L(()=>{e.menuState.value===0&&(!d.value||e.activationTrigger.value!==0&&M(()=>{var l,n;return(n=(l=m(o))==null?void 0:l.scrollIntoView)==null?void 0:n.call(l,{block:"nearest"})}))});function g(l){if(a.disabled)return l.preventDefault();e.closeMenu(),V(m(e.buttonRef))}function i(){if(a.disabled)return e.goToItem(I.Nothing);e.goToItem(I.Specific,v)}function t(){a.disabled||d.value||e.goToItem(I.Specific,v,0)}function s(){a.disabled||!d.value||e.goToItem(I.Nothing)}return()=>{let{disabled:l}=a,n={active:d.value,disabled:l,close:e.closeMenu};return E({ourProps:{id:v,ref:o,role:"menuitem",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,onClick:g,onFocus:i,onPointermove:t,onMousemove:t,onPointerleave:s,onMouseleave:s},theirProps:a,slot:n,attrs:b,slots:f,name:"MenuItem"})}}});const pe={class:"flex h-screen w-screen items-center justify-center"},me={class:"fixed top-16 w-56 text-right"},fe={class:"px-1 py-1"},xe={class:"px-1 py-1"},be={class:"px-1 py-1"},Re=D({__name:"menu",setup(a){return(f,b)=>{const r=U;return W(),Q("div",pe,[h("div",me,[x(R(ce),{as:"div",class:"relative inline-block text-left"},{default:y(()=>[h("div",null,[x(R(de),{class:"inline-flex w-full justify-center rounded-md bg-black px-4 py-2 text-sm font-medium text-white hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},{default:y(()=>[k(" Options "),x(r,{class:"i-ic-round-menu text-white-200 hover:text-white-100 -mr-1k ml-2 text-lg"})]),_:1})]),x(z,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:y(()=>[x(R(ve),{class:"absolute right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:y(()=>[h("div",fe,[x(R(T),null,{default:y(({active:e})=>[h("button",{class:P(["group flex w-full items-center rounded-md px-2 py-2 text-sm",[e?"bg-violet-500 text-white":"text-gray-900"]])},[x(r,{class:"i-ic:baseline-12mp mr-2 text-lg text-violet-400"}),k(" Edit ")],2)]),_:1}),x(R(T),null,{default:y(({active:e})=>[h("button",{class:P(["group flex w-full items-center rounded-md px-2 py-2 text-sm",[e?"bg-violet-500 text-white":"text-gray-900"]])},[x(r,{class:"i-ic:baseline-12mp mr-2 text-lg text-violet-400"}),k(" Duplicate ")],2)]),_:1})]),h("div",xe,[x(R(T),null,{default:y(({active:e})=>[h("button",{class:P(["group flex w-full items-center rounded-md px-2 py-2 text-sm",[e?"bg-violet-500 text-white":"text-gray-900"]])},[x(r,{class:"i-ic:baseline-12mp mr-2 text-lg text-violet-400"}),k(" Archive ")],2)]),_:1}),x(R(T),null,{default:y(({active:e})=>[h("button",{class:P(["group flex w-full items-center rounded-md px-2 py-2 text-sm",[e?"bg-violet-500 text-white":"text-gray-900"]])},[x(r,{class:"i-ic:baseline-12mp mr-2 text-lg text-violet-400"}),k(" Move ")],2)]),_:1})]),h("div",be,[x(R(T),null,{default:y(({active:e})=>[h("button",{class:P(["group flex w-full items-center rounded-md px-2 py-2 text-sm",[e?"bg-violet-500 text-white":"text-gray-900"]])},[x(r,{class:"i-ic:baseline-12mp mr-2 text-lg text-violet-400"}),k(" Delete ")],2)]),_:1})])]),_:1})]),_:1})]),_:1})])])}}});export{Re as default};
