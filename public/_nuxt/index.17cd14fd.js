import{_ as x}from"./Filter.vue_vue_type_script_setup_true_lang.a352f991.js";import{_ as h}from"./Title.vue_vue_type_script_setup_true_lang.92024e19.js";import{_ as k}from"./Header.cc0d400a.js";import{_ as w}from"./Row.5e4e135c.js";import{_ as z,a as C,b as B}from"./Wrapper.a5461ea8.js";import{a as F,Q as L,r as A,o as p,c as N,h as a,R as $,f as o,u as c,l as f,k as T,j as E}from"./entry.702e0cc9.js";import"./RowLoading.2a7e837e.js";const H=E("p",null,"\u8F09\u5165\u66F4\u591A",-1),P=[H],R={key:1,class:"text-center pt-8 text-xs font-bold tracking-widest opacity-50"},D=F({__name:"index",async setup(S){let n,u;const{data:t}=([n,u]=L(()=>$("video-news-list","/news/page",{body:{type:"video",size:12}})),n=await n,u(),n),s=A(!1),d=async()=>{var _;s.value=!0;const m=t.value.pagination.page,i=t.value.pagination.size,{data:e}=await $fetch("/api/news/page",{method:"POST",body:{type:"video",size:i,page:m+1}}),r=(_=e==null?void 0:e.list)!=null?_:[];setTimeout(()=>{var l;r.length&&(t.value.list.push(...r),t.value.pagination=(l=e.pagination)!=null?l:t.value.pagination),s.value=!1},300)};return(m,i)=>{const e=x,r=h,_=k,l=w,y=C,b=B,v=z;return p(),N(v,null,{default:a(()=>[o(_,{class:"z-10 sticky border-b bg-white border-gray-900/10 top-12 dark:bg-gray-900 dark:border-gray-700"},{default:a(()=>[o(r,{tag:"h1",title:"\u5F71\u97F3\u65B0\u805E",class:"capitalize"},{default:a(()=>[o(e)]),_:1})]),_:1}),o(b,null,{default:a(()=>[o(y,null,{default:a(()=>{var g;return[o(l,{tag:"h3",list:(g=c(t).list)!=null?g:[],infinite:!0,loading:s.value,onLoad:d},null,8,["list","loading"]),c(t).pagination.total>c(t).pagination.size*c(t).pagination.page?(p(),f("div",{key:0,class:T(["block py-4 mt-3 text-xs font-bold text-center text-gray-500 duration-300 border-t border-b border-gray-300 dark:text-gray-400 dark:border-gray-800 hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",{hidden:s.value}]),onClick:i[0]||(i[0]=V=>d())},P,2)):(p(),f("div",R," \u7121\u66F4\u591A\u8CC7\u6599... "))]}),_:1})]),_:1})]),_:1})}}});export{D as default};
