import{a as b,A as v,V as h,$ as B,b as l,o as E,l as y,j as e,f as o,t as A,u,h as C,a0 as $,U as w,y as k,W as D,Y as V}from"./entry.880fa512.js";const S={class:"flex items-center justify-between sticky"},U={class:"flex items-center space-x-2"},I={class:"text-xl font-bold"},j=e("span",{class:"lg:pr-2 duration-150 pr-1"}," \u9001\u51FA ",-1),N={class:"py-3"},H=b({__name:"email-binding",setup(R){const n=v({email:""}),{user:i}=h(),{info:g}=B(i),r=l("loading"),c=l("alert"),m=l("message"),d=async()=>{const{email:s}=n;if(!s.length)return m.value="\u6B04\u4F4D\u4E0D\u80FD\u7559\u7A7A";if(!$.test(s))return m.value="\u4FE1\u7BB1\u683C\u5F0F\u932F\u8AA4";r.value=!0;const{error:t,message:a}=await w("/user/email-binding",{body:{email:s}});return r.value=!1,t&&a?c.value={type:"error",text:a,center:!0}:(i.updateField({emailStatus:18}),c.value={type:"success",title:"\u5DF2\u767C\u9001\u9A57\u8B49\u4FE1\uFF0C\u8ACB\u81F3\u4FE1\u7BB1\u67E5\u6536"})};return(s,t)=>{var p,_;const a=k,x=V,F=D;return E(),y("div",null,[e("div",S,[e("div",U,[e("div",{class:"flex items-center cursor-pointer",onClick:t[0]||(t[0]=f=>s.$router.go(-1))},[o(a,{class:"i-ic-round-arrow-back-ios text-sm lg:text-base"})]),e("h1",I,A((_=(p=u(g))==null?void 0:p.email)!=null&&_.length?"\u4FEE\u6539":"\u7D81\u5B9A")+"Email ",1)]),e("div",{class:"group rounded-full cursor-pointer bg-green-500 text-white font-bold px-4 lg:h-9 lg:leading-9 h-7 leading-7 flex items-center lg:text-base text-sm",onClick:d},[j,o(a,{class:"i-ic-round-arrow-forward-ios"})])]),e("div",N,[o(F,{onSubmit:d},{default:C(()=>[o(x,{id:"email",modelValue:u(n).email,"onUpdate:modelValue":t[1]||(t[1]=f=>u(n).email=f),label:"Email",class:"mb-3",placeholder:"example@domain.com"},null,8,["modelValue"])]),_:1})])])}}});export{H as default};
