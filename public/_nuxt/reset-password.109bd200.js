import{a as f,z as B,B as C,b as d,o as _,l as b,j as o,f as u,h as g,S as x,s as v,V as F,a6 as P}from"./entry.cae53ab5.js";const V={class:"flex items-center justify-between sticky"},h={class:"flex items-center space-x-2"},A=o("h1",{class:"text-xl font-bold"}," \u4FEE\u6539\u5BC6\u78BC ",-1),E=o("span",{class:"pr-2 duration-150"}," \u9001\u51FA ",-1),y={class:"py-3"},k=f({__name:"reset-password",setup(D){const s=B({oldPassword:"",newPassword:"",newPasswordConfirm:""}),p=C(),i=d("loading"),c=d("alert"),m=d("message"),w=async()=>{const{oldPassword:l,newPassword:e,newPasswordConfirm:a}=s;if(!l.length||!e.length||!a.length)return m.value="\u6B04\u4F4D\u4E0D\u80FD\u7559\u7A7A";if(e!==a)return m.value="\u65B0\u5BC6\u78BC\u4E0D\u4E00\u81F4";i.value=!0;const{error:n,message:r}=await x("/user/reset-password",{body:s});return i.value=!1,n&&r?c.value={type:"error",text:r,center:!0}:c.value={type:"success",title:"\u4FEE\u6539\u6210\u529F",action:()=>p.go(-1)}};return(l,e)=>{const a=v,n=P,r=F;return _(),b("div",null,[o("div",V,[o("div",h,[o("div",{class:"flex items-center cursor-pointer",onClick:e[0]||(e[0]=t=>l.$router.go(-1))},[u(a,{class:"i-ic-round-arrow-back-ios text-sm lg:text-base"})]),A]),o("div",{class:"group rounded-full cursor-pointer bg-green-500 text-white font-bold px-4 h-9 leading-9 flex items-center",onClick:w},[E,u(a,{class:"i-ic-round-arrow-forward-ios"})])]),o("div",y,[u(r,{onSubmit:w},{default:g(()=>[u(n,{id:"old-password",modelValue:s.oldPassword,"onUpdate:modelValue":e[1]||(e[1]=t=>s.oldPassword=t),class:"mb-3",label:"\u820A\u5BC6\u78BC",placeholder:"\u8ACB\u8F38\u5165\u820A\u5BC6\u78BC"},null,8,["modelValue"]),u(n,{id:"new-password",modelValue:s.newPassword,"onUpdate:modelValue":e[2]||(e[2]=t=>s.newPassword=t),class:"mb-3",label:"\u65B0\u5BC6\u78BC",placeholder:"\u9577\u5EA6\u81F3\u5C11\u70BA8,\u82F1\u6578\u7D44\u5408"},null,8,["modelValue"]),u(n,{id:"new-password-confirm",modelValue:s.newPasswordConfirm,"onUpdate:modelValue":e[3]||(e[3]=t=>s.newPasswordConfirm=t),label:"\u78BA\u8A8D\u5BC6\u78BC",placeholder:"\u518D\u6B21\u8F38\u5165\u65B0\u5BC6\u78BC"},null,8,["modelValue"])]),_:1})])])}}});export{k as default};
