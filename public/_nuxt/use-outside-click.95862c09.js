import{o as p,u as N}from"./open-closed.00d41177.js";import{H as P,s as D,r as y,e as F}from"./entry.28800101.js";var L=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(L||{});const E=typeof window>"u"||typeof document>"u";function h(e){if(E)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=p(e);if(t)return t.ownerDocument}return document}let w=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var O=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(O||{}),S=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(S||{}),g=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(g||{});function x(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(w))}var A=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(A||{});function b(e,t=0){var r;return e===((r=h(e))==null?void 0:r.body)?!1:N(t,{[0](){return e.matches(w)},[1](){let o=e;for(;o!==null;){if(o.matches(w))return!0;o=o.parentElement}return!1}})}function _(e){let t=h(e);P(()=>{t&&!b(t.activeElement,0)&&M(e)})}function M(e){e==null||e.focus({preventScroll:!0})}let T=["textarea","input"].join(",");function I(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,T))!=null?r:!1}function U(e,t=r=>r){return e.slice().sort((r,o)=>{let a=t(r),n=t(o);if(a===null||n===null)return 0;let l=a.compareDocumentPosition(n);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function C(e,t){return H(x(),t,!0,e)}function H(e,t,r=!0,o=null){var a;let n=(a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?a:document,l=Array.isArray(e)?r?U(e):e:x(e);o=o!=null?o:n.activeElement;let i=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(o))-1;if(t&4)return Math.max(0,l.indexOf(o))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=t&32?{preventScroll:!0}:{},u=0,f=l.length,s;do{if(u>=f||u+f<=0)return 0;let d=m+u;if(t&16)d=(d+f)%f;else{if(d<0)return 3;if(d>=f)return 1}s=l[d],s==null||s.focus(c),u+=i}while(s!==n.activeElement);return t&6&&I(s)&&s.select(),s.hasAttribute("tabindex")||s.setAttribute("tabindex","0"),2}function v(e,t,r){E||D(o=>{document.addEventListener(e,t,r),o(()=>document.removeEventListener(e,t,r))})}function W(e,t,r=F(()=>!0)){function o(n,l){if(!r.value||n.defaultPrevented)return;let i=l(n);if(i===null||!i.getRootNode().contains(i))return;let m=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(e);for(let c of m){if(c===null)continue;let u=c instanceof HTMLElement?c:p(c);if(u!=null&&u.contains(i))return}return!b(i,A.Loose)&&i.tabIndex!==-1&&n.preventDefault(),t(n,i)}let a=y(null);v("mousedown",n=>{var l,i;r.value&&(a.value=((i=(l=n.composedPath)==null?void 0:l.call(n))==null?void 0:i[0])||n.target)},!0),v("click",n=>{!a.value||(o(n,()=>a.value),a.value=null)},!0),v("blur",n=>o(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{_ as D,A as F,O as M,S as N,U as O,H as P,E as e,b as h,h as m,L as o,C as v,M as w,W as y};
