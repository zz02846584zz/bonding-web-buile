import{_ as N}from"./Row.5524400c.js";import{_ as R}from"./Row.vue_vue_type_script_setup_true_lang.c55490cf.js";import{a as V,r as c,e as $,R as j,W as _,w as D,o as i,l as r,j as s,P as f,Q as L,f as h,m as x,a3 as k,a4 as w,u as C,k as P,t as S}from"./entry.e3960a20.js";import"./RowLoading.eb18fc40.js";const H=s("div",{class:"flex items-center justify-between sticky mb-3"},[s("h1",{class:"text-xl font-bold"},"\u6211\u7684\u6536\u85CF")],-1),M={class:"flex flex-wrap items-center space-x-4 text-sm mb-3"},Q=["onClick"],T={class:"py-3"},W={key:0},q={key:1},G=s("p",null,"\u8F09\u5165\u66F4\u591A",-1),I=[G],J={class:"text-center pt-8 text-xs font-bold tracking-widest opacity-50"},ee=V({__name:"collections",async setup(K){let u,y;const l=c([]),e=c({}),m=10,F=c([{label:"\u65B0\u805E",value:"article"},{label:"\u5C0F\u77E5\u8B58",value:"tip"}]),n=c("article"),t=c(!0),p=$(()=>e.value.total<=e.value.size*e.value.page);try{const{data:a}=([u,y]=j(()=>_("/my/collections",{body:{size:m,type:n.value}})),u=await u,y(),u);l.value=a.list,e.value=a.pagination,t.value=!1}catch{}const z=()=>{l.value=[],e.value={}};D(n,async a=>{t.value=!0,z();const{data:o}=await _("/my/collections",{body:{size:m,type:a}});l.value=o.list,e.value=o.pagination,t.value=!1});const B=async()=>{if(p.value||t.value)return;t.value=!0;const a=e.value.page,o=e.value.size,{data:d}=await _("/my/collections",{body:{size:o,page:a}});l.value.push(...d.list),e.value=d.pagination,t.value=!1};return(a,o)=>{var g,b;const d=N,A=R;return i(),r("div",null,[H,s("div",M,[(i(!0),r(f,null,L(F.value,(v,E)=>(i(),r("div",{key:E,class:P(["cursor-pointer h-8 leading-8 px-5 border border-gray-200 dark-border-opacity-20 rounded-full duration-200",{"bg-gray-200 dark:bg-opacity-10":n.value===v.value}]),onClick:O=>n.value=v.value},S(v.label),11,Q))),128))]),s("div",T,[n.value==="article"?(i(),r("div",W,[h(d,{tag:"h3",list:(g=l.value)!=null?g:[],infinite:!0,loading:t.value},null,8,["list","loading"])])):n.value==="tip"?(i(),r("div",q,[h(A,{list:(b=l.value)!=null?b:[]},null,8,["list"])])):x("",!0),t.value?x("",!0):(i(),r(f,{key:2},[k(s("div",{class:"dark:text-gray-400 block border-t py-4 mt-3 font-bold text-center text-xs text-gray-500 border-gray-200 dark:border-gray-800 duration-300 border-b hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",onClick:o[0]||(o[0]=v=>B())},I,512),[[w,!C(p)]]),k(s("div",J," \u7121\u66F4\u591A\u8CC7\u6599... ",512),[[w,C(p)]])],64))])])}}});export{ee as default};
