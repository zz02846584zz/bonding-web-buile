import{a as f,z as B,B as C,b as n,o as _,l as F,j as t,f as a,u as w,h as g,W as b,Y as v,aa as x}from"./entry.e3960a20.js";import{F as P,M as h}from"./arrow-right-thin.7d810f15.js";const A={class:"flex items-center justify-between sticky"},V={class:"flex items-center space-x-2"},E=t("h1",{class:"text-xl font-bold"},"\u4FEE\u6539\u5BC6\u78BC",-1),y=t("span",{class:"pr-2 duration-150"}," \u9001\u51FA ",-1),D={class:"py-3"},j=f({__name:"reset-password",setup($){const o=B({oldPassword:"",newPassword:"",newPasswordConfirm:""}),p=C(),d=n("loading"),i=n("alert"),c=n("message"),m=async()=>{const{oldPassword:l,newPassword:e,newPasswordConfirm:u}=o;if(!l.length||!e.length||!u.length)return c.value="\u6B04\u4F4D\u4E0D\u80FD\u7559\u7A7A";if(e!==u)return c.value="\u65B0\u5BC6\u78BC\u4E0D\u4E00\u81F4";d.value=!0;const{error:r,message:s}=await b("/user/reset-password",{body:o});return d.value=!1,r&&s?i.value={type:"error",text:s,center:!0}:i.value={type:"success",title:"\u4FEE\u6539\u6210\u529F",action:()=>p.go(-1)}};return(l,e)=>{const u=x,r=v;return _(),F("div",null,[t("div",A,[t("div",V,[t("div",{class:"flex items-center cursor-pointer",onClick:e[0]||(e[0]=s=>l.$router.go(-1))},[a(w(P),{class:"text-sm lg:text-base"})]),E]),t("div",{class:"group rounded-full cursor-pointer bg-green-500 text-white font-bold px-4 h-9 leading-9 flex items-center",onClick:m},[y,a(w(h))])]),t("div",D,[a(r,{onSubmit:m},{default:g(()=>[a(u,{id:"old-password",modelValue:o.oldPassword,"onUpdate:modelValue":e[1]||(e[1]=s=>o.oldPassword=s),class:"mb-3",label:"\u820A\u5BC6\u78BC",placeholder:"\u8ACB\u8F38\u5165\u820A\u5BC6\u78BC"},null,8,["modelValue"]),a(u,{id:"new-password",modelValue:o.newPassword,"onUpdate:modelValue":e[2]||(e[2]=s=>o.newPassword=s),class:"mb-3",label:"\u65B0\u5BC6\u78BC",placeholder:"\u9577\u5EA6\u81F3\u5C11\u70BA8,\u82F1\u6578\u7D44\u5408"},null,8,["modelValue"]),a(u,{id:"new-password-confirm",modelValue:o.newPasswordConfirm,"onUpdate:modelValue":e[3]||(e[3]=s=>o.newPasswordConfirm=s),label:"\u78BA\u8A8D\u5BC6\u78BC",placeholder:"\u518D\u6B21\u8F38\u5165\u65B0\u5BC6\u78BC"},null,8,["modelValue"])]),_:1})])])}}});export{j as default};
